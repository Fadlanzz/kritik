<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback - LAKU COFFEE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #fdfaf7; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .bg-coffee { background-color: #3d2b1f; }
        
        /* Animasi Ikon Melayang */
        @keyframes floatIcon {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-20px) rotate(8deg); }
        }
        .floating-icon { animation: floatIcon 3s ease-in-out infinite; }

        /* Custom Scrollbar */
        textarea::-webkit-scrollbar { width: 6px; }
        textarea::-webkit-scrollbar-thumb { background: #3d2b1f; border-radius: 10px; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-4xl w-full bg-white rounded-[3rem] shadow-[0_30px_100px_rgba(61,43,31,0.15)] overflow-hidden flex flex-col md:flex-row animate__animated animate__fadeIn">
        
        <div class="md:w-1/3 bg-coffee p-10 text-white flex flex-col justify-center items-center text-center relative overflow-hidden">
            <div class="z-10">
                <div class="w-28 h-28 bg-white rounded-full mb-6 flex items-center justify-center shadow-2xl mx-auto overflow-hidden border-4 border-amber-900/30">
                    <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=200&auto=format&fit=crop" 
                         alt="Laku Coffee Logo" class="w-full h-full object-cover">
                </div>
                <h1 class="text-3xl font-serif font-black mb-2 tracking-tight">LAKU COFFEE</h1>
                <p class="text-amber-100/60 text-xs italic font-light leading-relaxed">"Satu kata darimu, sejuta makna bagi kami."</p>
            </div>
            <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-amber-900/40 rounded-full"></div>
        </div>

        <div class="md:w-2/3 p-8 md:p-14">
            <header class="mb-8">
                <h2 class="text-2xl font-bold text-stone-800">Halo Laku Friends!</h2>
                <p class="text-stone-400 text-sm">Bantu kami meningkatkan kualitas melalui saranmu.</p>
            </header>

            <form id="feedbackForm" class="space-y-6">
                <div class="space-y-3">
                    <label class="block text-[10px] font-black uppercase text-stone-400 tracking-widest">Identitas Anda</label>
                    <div class="flex gap-6">
                        <label class="flex items-center cursor-pointer group">
                            <input type="radio" name="idType" value="nama" checked class="w-4 h-4 accent-amber-800">
                            <span class="ml-2 text-sm text-stone-600 font-medium group-hover:text-amber-800 transition">Pakai Nama</span>
                        </label>
                        <label class="flex items-center cursor-pointer group">
                            <input type="radio" name="idType" value="anonim" class="w-4 h-4 accent-amber-800">
                            <span class="ml-2 text-sm text-stone-600 font-medium group-hover:text-amber-800 transition">Anonim</span>
                        </label>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div id="containerNama">
                        <label class="block text-[10px] font-black uppercase text-stone-400 mb-1">Nama</label>
                        <input type="text" id="namaField" class="w-full border-b-2 border-stone-100 focus:border-amber-800 outline-none py-2 transition-all bg-transparent text-sm" placeholder="Nama lengkap...">
                    </div>
                    <div>
                        <label class="block text-[10px] font-black uppercase text-stone-400 mb-1">Email (Opsional)</label>
                        <input type="email" id="emailField" class="w-full border-b-2 border-stone-100 focus:border-amber-800 outline-none py-2 transition-all bg-transparent text-sm" placeholder="email@contoh.com">
                    </div>
                </div>

                <div>
                    <label class="block text-[10px] font-black uppercase text-stone-400 mb-1">Kategori Masukan</label>
                    <select id="kategoriField" class="w-full border-b-2 border-stone-100 focus:border-amber-800 outline-none py-2 bg-transparent text-stone-600 text-sm cursor-pointer">
                        <option value="Rasa Produk">‚òï Rasa Kopi & Menu</option>
                        <option value="Pelayanan">üë§ Pelayanan Barista</option>
                        <option value="Tempat">üè† Kebersihan & Suasana</option>
                        <option value="Fasilitas">‚ö° WiFi / Fasilitas</option>
                    </select>
                </div>

                <div>
                    <label class="block text-[10px] font-black uppercase text-stone-400 mb-1">Pesan Lengkap</label>
                    <textarea id="pesanField" rows="4" required class="w-full border-2 border-stone-50 rounded-2xl focus:border-amber-100 focus:bg-amber-50/20 outline-none p-4 mt-1 transition-all resize-none text-sm" placeholder="Apa yang ingin Anda sampaikan?"></textarea>
                </div>

                <button type="submit" class="w-full bg-stone-900 hover:bg-black text-white font-bold py-4 rounded-2xl shadow-xl transition-all transform hover:-translate-y-1 active:scale-95">
                    Kirim Feedback
                </button>
            </form>
        </div>
    </div>

    <div id="popup" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-stone-900/50 backdrop-blur-md hidden opacity-0 transition-all duration-500">
        <div class="bg-white/90 backdrop-blur-xl rounded-[3.5rem] p-10 max-w-sm w-full text-center shadow-2xl border border-white transform scale-75 transition-all duration-500" id="modalContent">
            
            <div class="relative h-40 flex items-center justify-center mb-4">
                <div class="absolute w-28 h-28 bg-amber-100 rounded-full blur-xl opacity-50"></div>
                <div class="text-8xl floating-icon z-10">‚òï</div>
                <div class="absolute top-0 right-4 text-4xl animate__animated animate__zoomIn animate__infinite animate__slower">‚ú®</div>
            </div>

            <h2 class="text-3xl font-serif font-black text-stone-800 mb-2">Terima Kasih!</h2>
            <div class="w-12 h-1 bg-amber-800 mx-auto mb-6 rounded-full"></div>
            <p class="text-stone-500 text-sm leading-relaxed mb-10">
                Masukan Anda telah berhasil kami simpan. Mari terus tumbuh bersama <span class="text-amber-800 font-bold">Laku Coffee</span>!
            </p>

            <button onclick="tutupPopup()" class="w-full bg-stone-900 text-white font-black py-4 rounded-2xl shadow-lg hover:shadow-2xl transition-all active:scale-95">
                KEMBALI
            </button>
        </div>
    </div>

    <script>
        const namaField = document.getElementById('namaField');
        const containerNama = document.getElementById('containerNama');
        const radioIdentitas = document.querySelectorAll('input[name="idType"]');
        const popup = document.getElementById('popup');
        const modalContent = document.getElementById('modalContent');

        // Logic Pilihan Identitas
        radioIdentitas.forEach(radio => {
            radio.addEventListener('change', (e) => {
                if (e.target.value === 'anonim') {
                    containerNama.classList.add('opacity-30', 'pointer-events-none');
                    namaField.value = '';
                } else {
                    containerNama.classList.remove('opacity-30', 'pointer-events-none');
                }
            });
        });

        // Submit Form
        document.getElementById('feedbackForm').addEventListener('submit', (e) => {
            e.preventDefault();

            // Ambil Data
            const tipeId = document.querySelector('input[name="idType"]:checked').value;
            const feedbackBaru = {
                nama: tipeId === 'anonim' ? "ü§´ Anonim" : (namaField.value || "Laku Friend"),
                email: document.getElementById('emailField').value || "-",
                kategori: document.getElementById('kategoriField').value,
                pesan: document.getElementById('pesanField').value,
                waktu: new Date().toLocaleString('id-ID')
            };

            // SIMPAN KE LOCALSTORAGE (Kunci: LAKU_DATA)
            let database = JSON.parse(localStorage.getItem('LAKU_DATA')) || [];
            database.push(feedbackBaru);
            localStorage.setItem('LAKU_DATA', JSON.stringify(database));

            // Munculkan Popup
            popup.classList.remove('hidden');
            setTimeout(() => {
                popup.classList.add('opacity-100');
                modalContent.classList.replace('scale-75', 'scale-100');
            }, 50);
        });

        // Tutup Popup & Reset
        function tutupPopup() {
            popup.classList.replace('opacity-100', 'opacity-0');
            modalContent.classList.replace('scale-100', 'scale-75');
            setTimeout(() => {
                location.reload(); // Reset halaman
            }, 400);
        }
    </script>
</body>
</html>
